<div class="bg-white-light py-12 sm:py-16">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto lg:mx-0">
      <h2
        class="text-4xl color-blue font-semibold tracking-tight text-pretty sm:text-5xl section-line"
        >
        Mes partenaires
      </h2>
      <h4 class="mt-6 text-lg/8 color-grey-dark">
        Découvrez à travers ces vidéos les professionnels qui m'accompagnent dans votre réussite financière.
      </h4>
    </div>
    <div
      class="mx-auto mt-10 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 md:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3"
      >
      @for (media of medias; track media.id) {
      <article class="flex max-w-xl flex-col h-full">
        <!-- En-tête avec date et channel -->
        <div class="flex justify-between items-center mb-4">
          <time *ngIf="media.date" [attr.datetime]="media.date.toISOString()" class="text-xs color-grey-dark">
            {{ media.date | date: 'd MMMM yyyy' }}
          </time>
          <p class="relative z-10 rounded-full bg-gray-50 py-1.5 text-xs font-medium color-grey-dark">
            {{ media.channel }}
          </p>
        </div>

        <!-- Miniature vidéo en haut -->
        <div class="relative mb-4">
          <a [href]="media.link" target="_blank" rel="noopener noreferrer" class="block">
            <img
              [src]="'https://img.youtube.com/vi/' + extractYouTubeId(media.link) + '/hqdefault.jpg'"
              alt="aperçu vidéo"
              class="w-full h-48 object-cover rounded-lg hover:opacity-90 transition-opacity"
            />
            <!-- Icône play optionnelle -->
            <div class="absolute inset-0 flex items-center justify-center">
              <div class="bg-black bg-opacity-60 rounded-full p-3 hover:bg-opacity-80 transition-all">
                <svg class="w-6 h-6 text-white ml-1" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M8 5v14l11-7z"/>
                </svg>
              </div>
            </div>
          </a>
        </div>

        <!-- Contenu textuel avec hauteur flexible -->
        <div class="flex-1 flex flex-col">
          <h3 class="text-lg font-semibold mb-3 line-clamp-2 group-hover:text-gray-600">
            <a [href]="media.link" target="_blank" rel="noopener noreferrer">
              {{ media.title }}
            </a>
          </h3>
          
          <p class="text-sm color-grey-dark line-clamp-3 flex-1">
            {{ media.text }}
          </p>
          
        </div>
      </article>
    }

    </div>
  </div>
</div>
